<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>404 - Pagina non trovata · Flègo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="Pagina non trovata - Flègo · Sorsi & Morsi">
    
    <!-- Meta tag iOS (PWA/Home Screen) -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Flègo">
    <link rel="apple-touch-icon" href="logomini.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#FFC928">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="logo.ico">
    
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://flegopub.github.io/404.html">
    
    <!-- Preconnect per CDN esterni (performance) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://flegopub.github.io/404.html">
    <meta property="og:title" content="404 - Pagina non trovata · Flègo">
    <meta property="og:description" content="Pagina non trovata - Flègo · Sorsi & Morsi">
    <meta property="og:image" content="https://flegopub.github.io/logo.png">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">
    <meta property="og:image:type" content="image/png">
    <meta property="og:locale" content="it_IT">
    <meta property="og:site_name" content="Flègo · Sorsi & Morsi">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://flegopub.github.io/404.html">
    <meta name="twitter:title" content="404 - Pagina non trovata · Flègo">
    <meta name="twitter:description" content="Pagina non trovata - Flègo · Sorsi & Morsi">
    <meta name="twitter:image" content="https://flegopub.github.io/logo.png">
    
    <!-- Meta tag per disabilitare la cache del browser -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" href="style.css">
    <!-- Preload font critico Montserrat -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" as="style">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome - con fallback locale -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" 
          id="fontAwesomeCSS"
          onerror="this.onerror=null; this.href='fonts/font-awesome/css/all.min.css';">
</head>
<body class="menu-body">
    <div class="menu-page">
        <header class="menu-header">
            <div class="menu-header-left">
                <div class="menu-logo">
                    <img src="logomini.png" alt="Flègo">
                </div>
                <div class="menu-title-block">
                    <span class="menu-eyebrow">Flègo · Sorsi &amp; Morsi</span>
                    <h1 class="menu-title">404</h1>
                </div>
            </div>
            <a href="home.html" class="menu-close">
                <span>&larr;</span>
                <span>Home</span>
            </a>
        </header>

        <section class="menu-section">
            <h2 class="menu-section-title">Pagina non trovata</h2>
            <p class="menu-intro" style="margin-bottom: 1.5rem;">
                La pagina che stai cercando non esiste o è stata spostata.
            </p>
            <p class="menu-item-desc" style="margin-bottom: 1.5rem;">
                Puoi tornare alla <a href="home.html" style="color: #FFC928; text-decoration: underline;">homepage</a> o esplorare il nostro menu.
            </p>
        </section>

        <section class="menu-section">
            <h2 class="menu-section-title">Menu</h2>
            <ul class="menu-list">
                <li class="menu-item">
                    <a href="taglieri.html" style="text-decoration: none; color: inherit;">
                        <div class="menu-item-header">
                            <span class="menu-item-name">Taglieri Flègo</span>
                        </div>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="panini.html" style="text-decoration: none; color: inherit;">
                        <div class="menu-item-header">
                            <span class="menu-item-name">Panini</span>
                        </div>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="primi-secondi-contorni.html" style="text-decoration: none; color: inherit;">
                        <div class="menu-item-header">
                            <span class="menu-item-name">Primi, secondi e contorni</span>
                        </div>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="piccoli-morsi.html" style="text-decoration: none; color: inherit;">
                        <div class="menu-item-header">
                            <span class="menu-item-name">Piccoli morsi</span>
                        </div>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="frittatine.html" style="text-decoration: none; color: inherit;">
                        <div class="menu-item-header">
                            <span class="menu-item-name">Frittatine</span>
                        </div>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="birre-altre-bevande.html" style="text-decoration: none; color: inherit;">
                        <div class="menu-item-header">
                            <span class="menu-item-name">Birre e altre bevande</span>
                        </div>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="vini.html" style="text-decoration: none; color: inherit;">
                        <div class="menu-item-header">
                            <span class="menu-item-name">Vini</span>
                        </div>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="cocktails.html" style="text-decoration: none; color: inherit;">
                        <div class="menu-item-header">
                            <span class="menu-item-name">Cocktail</span>
                        </div>
                    </a>
                </li>
            </ul>
        </section>

        <p class="menu-footer">
            <a href="home.html" style="color: #FFC928; text-decoration: none; font-weight: 600;">← Torna alla homepage</a>
        </p>
    </div>

    <!-- Barra fissa in basso -->
    <div class="bottom-bar">
        <a href="https://wa.me/393207682949" class="bottom-bar-btn bottom-bar-btn--wa" target="_blank" rel="noopener">
            <i class="fab fa-whatsapp"></i>
            <span>WhatsApp</span>
        </a>
        <a href="https://www.instagram.com/flego_official/" class="bottom-bar-btn bottom-bar-btn--ig" target="_blank" rel="noopener">
            <i class="fab fa-instagram"></i>
            <span>Instagram</span>
        </a>
        <a href="tel:+393207682949" class="bottom-bar-btn bottom-bar-btn--call">
            <i class="fas fa-phone"></i>
            <span>Chiama</span>
        </a>
    </div>
    <script>
        // Tracking click su "Torna a home"
        (function() {
            const homeLinks = document.querySelectorAll('a[href*="home.html"]');
            homeLinks.forEach(function(link) {
                link.addEventListener('click', function() {
                    try {
                        if (window.dataLayer && typeof window.gtag === 'function') {
                            window.gtag('event', 'home_link_click', {
                                'button_name': 'Torna a Home',
                                'page_location': window.location.pathname
                            });
                            
                            window.dataLayer.push({
                                'event': 'home_link_click',
                                'button_name': 'Torna a Home',
                                'page_location': window.location.pathname
                            });
                        } else if (window.dataLayer) {
                            window.dataLayer.push({
                                'event': 'home_link_click',
                                'button_name': 'Torna a Home',
                                'page_location': window.location.pathname
                            });
                        }
                    } catch (e) {
                        // Silenzioso: non bloccare l'esperienza utente
                    }
                });
            });
        })();

        // Registrazione Service Worker (solo se non si usa file://)
        if ('serviceWorker' in navigator && (location.protocol === 'http:' || location.protocol === 'https:')) {
            window.addEventListener('load', function() {
                // Usa percorso relativo per compatibilità con GitHub Pages (repository non in root)
                const swPath = './service-worker.js';
                navigator.serviceWorker.register(swPath)
                    .then(function(registration) {
                        // Service Worker registrato correttamente
                    })
                    .catch(function(error) {
                        // Errore silenzioso: non bloccare l'esperienza utente
                    });
            });
        }
        
        // Tracking click bottoni social
        (function() {
            function trackSocialClick(buttonName, buttonType) {
                try {
                    if (window.dataLayer && typeof window.gtag === 'function') {
                        window.gtag('event', 'social_click', {
                            'button_name': buttonName,
                            'button_type': buttonType
                        });
                        window.dataLayer.push({
                            'event': 'social_click',
                            'button_name': buttonName,
                            'button_type': buttonType
                        });
                    } else if (window.dataLayer) {
                        window.dataLayer.push({
                            'event': 'social_click',
                            'button_name': buttonName,
                            'button_type': buttonType
                        });
                    }
                } catch (e) {}
            }
            function initSocialTracking() {
                const whatsappBtn = document.querySelector('.bottom-bar-btn--wa');
                if (whatsappBtn) whatsappBtn.addEventListener('click', function() { trackSocialClick('WhatsApp', 'whatsapp'); });
                const instagramBtn = document.querySelector('.bottom-bar-btn--ig');
                if (instagramBtn) instagramBtn.addEventListener('click', function() { trackSocialClick('Instagram', 'instagram'); });
                const phoneBtn = document.querySelector('.bottom-bar-btn--call');
                if (phoneBtn) phoneBtn.addEventListener('click', function() { trackSocialClick('Chiama', 'phone'); });
                const mapsBtn = document.querySelector('.bottom-bar-btn--maps, .maps-btn, [href*="maps.google"], [href*="google.com/maps"]');
                if (mapsBtn) mapsBtn.addEventListener('click', function() { trackSocialClick('Mappe', 'maps'); });
            }
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initSocialTracking);
            } else {
                initSocialTracking();
            }
        })();

        // Nascondi elementi UI durante lo scroll
        (function() {
            const bottomBar = document.querySelector('.bottom-bar');
            const scrollTopBtn = document.querySelector('.scroll-top');
            const cookieSettingsBtn = document.querySelector('.cookie-settings-btn');
            
            if (!bottomBar && !scrollTopBtn && !cookieSettingsBtn) {
                return; // Nessun elemento da gestire
            }
            
            let scrollTimeout;
            let isScrolling = false;
            
            function handleScroll() {
                // Nascondi gli elementi durante lo scroll
                if (!isScrolling) {
                    isScrolling = true;
                    if (bottomBar) bottomBar.classList.add('scrolling');
                    if (scrollTopBtn) scrollTopBtn.classList.add('scrolling');
                    if (cookieSettingsBtn) cookieSettingsBtn.classList.add('scrolling');
                }
                
                // Cancella il timeout precedente
                clearTimeout(scrollTimeout);
                
                // Mostra gli elementi quando l'utente smette di scrollare
                scrollTimeout = setTimeout(function() {
                    isScrolling = false;
                    if (bottomBar) bottomBar.classList.remove('scrolling');
                    if (scrollTopBtn) scrollTopBtn.classList.remove('scrolling');
                    if (cookieSettingsBtn) cookieSettingsBtn.classList.remove('scrolling');
                }, 150); // 150ms di inattività prima di mostrare di nuovo
            }
            
            window.addEventListener('scroll', handleScroll, { passive: true });
        })();
    </script>
    
    <!-- Google Analytics Consent Management -->
    <script src="ga-consent.js"></script>
</body>
</html>

